<!DOCTYPE html>

<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <!-- Required meta tags -->

    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta
      name="keywords"
      content="Bootstrap, Landing page, Template, Registration, Landing"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <meta name="author" content="UIdeck" />
    <title>Register</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="./register_files/bootstrap.min.css" />
    <link rel="stylesheet" href="./register_files/line-icons.css" />
    <link rel="stylesheet" href="./register_files/owl.carousel.min.css" />
    <link rel="stylesheet" href="./register_files/owl.theme.default.css" />
    <link rel="stylesheet" href="./register_files/slicknav.min.css" />
    <link rel="stylesheet" href="./register_files/animate.css" />
    <link rel="stylesheet" href="./register_files/main.css" />
    <link rel="stylesheet" href="./register_files/responsive.css" />
    <link rel="stylesheet" href="./JobXSearch/main.css" />
    <link rel="icon" href="./JobXSearch/logo.png" />
    <link href="https://cdn.lineicons.com/5.0/lineicons.css" rel="stylesheet" />
    <link
      rel="stylesheet"
      id="colors"
      href="./register_files/cyan.css"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="./register_files/color-switcher.css"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />
    <style>
      .links {
        font-weight: bold !important;
        font-size: 14px !important;
      }
    </style>
  </head>

  <body>
    <!-- Header Section Start -->
    <header id="home" class="hero-area">
      <!-- Navbar Start -->
      <nav class="navbar navbar-expand-lg fixed-top scrolling-navbar">
        <div class="container">
          <div class="theme-header clearfix">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button
                class="navbar-toggler"
                type="button"
                data-toggle="collapse"
                data-target="#main-navbar"
                aria-controls="main-navbar"
                aria-expanded="false"
                aria-label="Toggle navigation"
              >
                <span class="navbar-toggler-icon"></span>
                <span class="lni-menu"></span>
                <span class="lni-menu"></span>
                <span class="lni-menu"></span>
              </button>
              <a href="./index.html" class="navbar-brand"
                ><img src="./JobXSearch/logo.png" alt="" class="brand-img" />
                <h4 class="brand-name">Pagaar India</h4></a
              >
            </div>
            <div class="collapse navbar-collapse" id="main-navbar">
              <ul class="navbar-nav mr-auto w-100 justify-content-end">
                <li class="nav-item active">
                  <a class="nav-link links" href="./index.html"> Home </a>
                </li>
                <li class="nav-item dropdown">
                  <a
                    class="nav-link dropdown-toggle "
                    href="./index.html#"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                  >
                    Pages
                  </a>
                  <ul class="dropdown-menu">
                    <li>
                      <a class="dropdown-item " href="./about.html">About</a>
                    </li>
                    <li>
                      <a class="dropdown-item " href="./job-page.html"
                        >Job Page</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./job-details.html"
                        >Job Details</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./resume.html"
                        >Resume Page</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./privacy.html"
                        >Privacy Policy</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./faq.html">FAQ</a>
                    </li>
                    <li>
                      <a class="dropdown-item " href="./pricing.html"
                        >Pricing Tables</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./contact.html">Contact</a>
                    </li>
                  </ul>
                </li>
                <li class="nav-item dropdown">
                  <a
                    class="nav-link dropdown-toggle "
                    href="./index.html#"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                  >
                    Candidates
                  </a>
                  <ul class="dropdown-menu">
                    <li>
                      <a class="dropdown-item " href="./browse-jobs.html"
                        >Browse Jobs</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./browse-categories.html"
                        >Browse Categories</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./add-resume.html"
                        >Add Resume</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./manage-resumes.html"
                        >Manage Resumes</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item" href="/job-alerts"
                        >Job Alerts</a
                      >
                    </li>
                  </ul>
                </li>
                <li class="nav-item dropdown">
                  <a
                    class="nav-link dropdown-toggle "
                    href="./index.html#"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                  >
                    Employers
                  </a>
                  <ul class="dropdown-menu">
                    <li>
                      <a class="dropdown-item " href="./post-job.html"
                        >Add Job</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./manage-jobs.html"
                        >Manage Jobs</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./manage-applications.html"
                        >Manage Applications</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./browse-resumes.html"
                        >Browse Resumes</a
                      >
                    </li>
                  </ul>
                </li>
                <li class="nav-item dropdown">
                  <a
                    class="nav-link dropdown-toggle "
                    href="./index.html#"
                    data-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                  >
                    Blog
                  </a>
                  <ul class="dropdown-menu">
                    <li>
                      <a class="dropdown-item " href="./blog.html"
                        >Blog - Right Sidebar</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./blog-left-sidebar.html"
                        >Blog - Left Sidebar</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./blog-full-width.html">
                        Blog full width</a
                      >
                    </li>
                    <li>
                      <a class="dropdown-item " href="./single-post.html"
                        >Blog Single Post</a
                      >
                    </li>
                  </ul>
                </li>
                <li class="nav-item">
                  <a class="nav-link " href="./Contact.html"> Contact </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link " href="./Login.html">Login</a>
                </li>
                <li class="button-group">
                  <a href="/signupjobseeker" class="button btn btn-common"
                    >Register For Jobseeker</a
                  >
                </li>
              </ul>
            </div>
          </div>
        </div>
        <div class="mobile-menu" data-logo="/JobXSearch/logo.png"></div>
      </nav>
    </header>
    <!-- Header Section End -->

    <!-- Page Header Start -->
    <div class="page-header">
      <div class="container">
        <div class="row">
          <div class="col-lg-12">
            <div class="inner-header">
              <h3>Create Your account</h3>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Page Header End -->

    <!-- Recruiter Signup Page -->
    <section id="content" class="section-padding">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-lg-5 col-md-6 col-xs-12">
            <div class="page-login-form box">
              <h3>Create Your Recruiter Account</h3>

              <!-- Recruiter Signup Form -->
              <form class="login-form" onsubmit="register(event)">
                <!-- Company Name -->
                <div class="form-group">
                  <div class="input-icon">
                    <i class="lni lni-user-4"></i>
                    <input
                      type="text"
                      class="form-control"
                      name="name"
                      placeholder="Company Name"
                    />
                  </div>
                </div>

                <!-- Company Director or CEO Name -->
                <div class="form-group">
                  <div class="input-icon">
                    <i class="lni lni-user-4"></i>
                    <input
                      type="text"
                      class="form-control"
                      name="Director"
                      id="Director"
                      placeholder="Company Director Name"
                    />
                  </div>
                </div>

                <!-- Company Logo -->
                <div class="form-group">
                  <label for="CompanyLogo" class="form-label me-3 mb-0" style="font-weight: bold;"> Insert Your Company Logo</label>
                  <div class="input-icon">
                    <i class="bi bi-images"></i>
                   
                    <input
                      type="file"
                      class="form-control"
                      id="CompanyLogo"
                      name="CompanyLogo"
                      placeholder="Insert your company logo"
                    />
                  </div>
                </div>

                <!-- Email -->
                <div class="form-group">
                  <div class="input-icon">
                    <i class="lni lni-envelope-1"></i>
                    <input
                      type="text"
                      class="form-control"
                      name="email"
                      placeholder="Email Address"
                    />
                  </div>
                </div>

                <!-- Password -->
                <div class="form-group">
                  <div class="input-icon">
                    <i class="lni lni-locked-2"></i>
                    <input
                      type="password"
                      class="form-control"
                      id="password"
                      placeholder="Password"
                    />
                  </div>
                </div>

                <!-- Confirm Password -->
                <div class="form-group">
                  <div class="input-icon">
                    <i class="lni lni-unlocked-2"></i>
                    <input
                      type="password"
                      class="form-control"
                      id="confirm_password"
                      placeholder="Retype Password"
                    />
                  </div>
                </div>

                <!-- Phone Number -->
                <div class="form-group">
                  <div class="input-icon">
                    <i class="lni lni-envelope-1"></i>
                    <input type="text" id="mobile" class="form-control" maxlength="10" placeholder="Enter 10-digit mobile number" oninput="this.value = this.value.replace(/[^0-9]/g, '')">

                  </div>
                </div>

                <!-- Company -->
                <div class="form-group">
                  <div class="input-icon">
                    <i class="lni lni-envelope-1"></i>
                    <input
                      type="text"
                      class="form-control"
                      name="companyDetails"
                      id="companyDetails"
                      placeholder="Company Details"
                    />
                  </div>
                </div>

                <!-- Submit Button -->
                <button type="submit" class="btn btn-common log-btn mt-3">
                  Register as Recruiter
                </button>

                <!-- Sign In Link -->
                <p class="text-center fw-bold" style="color: blue;font-weight: bold;">
                  Already have an account?
                  <a href="./Login.html"> Sign In</a>
                </p>
              </form>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Bootstrap JS (required for tabs to work) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Content section End -->

    <!-- Footer Section Start -->
    <footer>
      <!-- Footer Area Start -->
      <section class="footer-Content">
        <div class="container">
          <div class="row">
            <div class="col-lg-3 col-md-3 col-xs-12">
              <div class="widget">
                <div class="footer-logo">
                  <img
                    src="./JobXSearch/logo.png"
                    alt=""
                    class="footer-logo-img"
                  />
                </div>
                <div class="textwidget">
                  <p>
                    At JobXSearch (Pagaar India), we bridge the gap between ambition and
                    success, making job hunting and hiring faster, smarter, and
                    more efficient!" 🚀
                  </p>
                </div>
              </div>
            </div>
            <div class="col-lg-6 col-md-4 col-xs-12">
              <div class="widget">
                <h3 class="block-title">Quick Links</h3>
                <ul class="menu">
                  <li>
                    <a href="./About.html#">About Us</a>
                  </li>
                  <li>
                    <a href="./faq.html#">Support</a>
                  </li>
                  <li>
                    <a href="./index.html#">License</a>
                  </li>
                  <li>
                    <a href="./Contact.html">Contact</a>
                  </li>
                </ul>
                <ul class="menu">
                  <li>
                    <a href="./privacy.html">Terms &amp; Conditions</a>
                  </li>
                  <li>
                    <a href="./privacy.html">Privacy</a>
                  </li>
                  <li>
                    <a href="./privacy.html">Refferal Terms</a>
                  </li>
                  <li>
                    <a href="./index.html#">Product License</a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="col-lg-3 col-md-4 col-xs-12">
              <div class="widget">
                <h3 class="block-title">Subscribe Now</h3>
                <p>
                  "We're here to help you succeed—reach out today, and let’s
                  turn your hiring or job search goals into reality!" 🚀
                </p>
                <form
                  method="post"
                  id="subscribe-form"
                  name="subscribe-form"
                  class="validate"
                >
                  <div class="form-group is-empty">
                    <input
                      type="email"
                      value=""
                      name="Email"
                      class="form-control"
                      id="EMAIL"
                      placeholder="Enter Email..."
                      required=""
                    />
                    <button
                      type="submit"
                      name="subscribe"
                      id="subscribes"
                      class="btn btn-common sub-btn"
                    >
                      <i class="lni lni-envelope-1"></i>
                    </button>
                    <div class="clearfix"></div>
                  </div>
                </form>
                <ul class="mt-3 footer-social">
                  <li>
                    <a class="facebook" href="./index.html#"
                      ><i class="lni lni-facebook"></i
                    ></a>
                  </li>
                  <li>
                    <a class="twitter" href="./index.html#"
                      ><i class="lni lni-twitter-old"></i
                    ></a>
                  </li>
                  <li>
                    <a class="linkedin" href="./index.html#"
                      ><i class="lni lni-linkedin"></i
                    ></a>
                  </li>
                  <li>
                    <a class="google-plus" href="./index.html#"
                      ><i class="lni lni-google"></i
                    ></a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- Footer area End -->

      <div id="copyright">
        <div class="container">
          <div class="row">
            <div class="col-md-12">
              <div class="site-info text-center">
                <p>
                  Designed and Developed by
                  <a
                    href="https://www.linkedin.com/in/abhitesh-giri-3924a3245/?originalSubdomain=in"
                    rel="nofollow"
                    >LIMZED SOFTWARE</a
                  >
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </footer>
    <!-- Footer Section End -->

    <!-- Go To Top Link -->
    <a href="./register.html#" class="back-to-top" style="display: none">
      <i class="lni lni-arrow-upward"></i>
    </a>

    <!-- Preloader -->
    <div id="preloader" style="display: none">
      <div class="loader" id="loader-1"></div>
    </div>
    <!-- End Preloader -->

    <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <script src="./register_files/jquery-min.js.download"></script>
    <script src="./register_files/popper.min.js.download"></script>
    <script src="./register_files/color-switcher.js.download"></script>

    <div id="color-style-switcher">
      <div>
        <h3>Color Palette</h3>
        <ul class="colors">
          <li>
            <a class="color1 active" href="./index.html#"></a>
          </li>
          <li>
            <a class="color2" href="./index.html#"></a>
          </li>
          <li>
            <a class="color3" href="./index.html#"></a>
          </li>
          <li>
            <a class="color4" href="./index.html#"></a>
          </li>
          <li>
            <a class="color5" href="./index.html#"></a>
          </li>
          <li>
            <a class="color6" href="./index.html#"></a>
          </li>
        </ul>
      </div>
      <div class="bottom">
        <a href="./index.html#" class="settings"
          ><i class="lni lni-colour-palette-3"></i
        ></a>
      </div>
    </div>

    <script src="./register_files/owl.carousel.min.js.download"></script>
    <script src="./register_files/jquery.slicknav.js.download"></script>
    <script src="./register_files/jquery.counterup.min.js.download"></script>
    <script src="./register_files/waypoints.min.js.download"></script>
    <script src="./register_files/form-validator.min.js.download"></script>
    <script src="./register_files/contact-form-script.js.download"></script>
    <script src="./register_files/main.js.download"></script>
  </body>
  <script>
    //   function isValidEmailDomain(email) {
    //     return  !(email.includes("gmail") || email.includes("yahoo") || email.includes("outlook"));
    // }

    async function register(event) {
      event.preventDefault(); // Prevents the default form submission

      let email = document.getElementsByName("email")[0].value;
      let name = document.getElementsByName("name")[0].value;
      let director = document.getElementById("Director").value;
      let phone = document.getElementById("mobile").value;
      let companyDetails = document.getElementById("companyDetails").value;
      let password = document.getElementById("password").value;
      let confirm_password = document.getElementById("confirm_password").value;
      let companyLogo = document.getElementById("CompanyLogo").files[0];

      if (!email || !name || !password || !confirm_password) {
        alert("All fields are required!");
        return;
      }
      //   if (!isValidEmailDomain(email)) {
      //     alert("Error ! email must be in format of hiring@technologies.com");
      //     return;
      //  }

      if (password !== confirm_password) {
        alert("Passwords do not match!");
        return;
      }

      try {
        const formData = new FormData();
        formData.append("email", email);
       
        formData.append("name", name);
        formData.append("director", director);
        formData.append("phone", phone);
        formData.append("companyDetails",companyDetails);
        console.log(director)
        formData.append("password", password);
        formData.append("companyLogo", companyLogo);
        const res = await fetch("/auth/register-employer", {
          method: "POST",
          body: formData,
        });

        const result = await res.json();
        console.log(result.email);
        if (res.ok) {
          localStorage.setItem("Email", email);
          alert("An otp send to your account please verify");
          window.location.href = "otp.html";
        } else {
          alert(`Error: ${result.message || "Registration failed"}`);
        }
      } catch (error) {
        console.error("Error:", error);
        alert("Something went wrong. Please try again.");
      }
    }

    async function registerJobSeeker(event) {
      event.preventDefault(); // Prevents the default form submission

      let email = document.getElementsByName("email_user")[0].value;
      let name = document.getElementsByName("name_user")[0].value;
      let phone = document.getElementsByName("phone_user")[0].value;
      let dob = document.getElementsByName("dob_user")[0].value;
      let gender = document.getElementsByName("gender_user")[0].value;
      let qualification =
        document.getElementsByName("qualification_user")[0].value;
      let experience = document.getElementsByName("experience_user")[0].value;
      let skills = document.getElementsByName("skills_user")[0].value;
      let location = document.getElementsByName("location_user")[0].value;
      let linkedin = document.getElementsByName("linkedin_user")[0].value;
      let password = document.getElementById("password_jobSeeker").value;
      let profilePic = document.getElementById("profilePic").files[0];
      let confirm_password = document.getElementById(
        "password_jobSeeker_conf"
      ).value;

      console.log(
        email,
        name,
        phone,
        dob,
        gender,
        qualification,
        experience,
        skills,
        location,
        linkedin,
        password,
        confirm_password
      );

      if (
        !email ||
        !name ||
        !phone ||
        !dob ||
        !gender ||
        !qualification ||
        !experience ||
        !skills ||
        !location ||
        !password ||
        !confirm_password
      ) {
        alert("All fields except LinkedIn are required!");
        return;
      }

      if (password !== confirm_password) {
        alert("Passwords do not match!");
        return;
      }

      try {
        const formData = new FormData();
        formData.append("email", email);
        formData.append("name", name);
        formData.append("password", password);
        formData.append("profilePic", profilePic);
        formData.append("phone", phone);
        formData.append("dob", dob);
        formData.append("gender", gender);
        formData.append("qualification", qualification);
        formData.append("experience", experience);
        formData.append("skills", skills);
        formData.append("location", location);

        const res = await fetch("/auth/register-user", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: fromData,
        });

        const result = await res.json();
        if (res.ok) {
          alert("Registration successful!");
          window.location.href = "/login";
        } else {
          alert(`Error: ${result.message || "Registration failed"}`);
        }
      } catch (error) {
        console.error("Error:", error);
        alert("Something went wrong. Please try again.");
      }
    }
  </script>
</html>
